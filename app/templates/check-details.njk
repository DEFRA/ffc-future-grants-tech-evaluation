{% extends '.layout.njk' %}

{% from "govuk/components/back-link/macro.njk" import govukBackLink %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "./components/macro.njk" import crumbToken %}
{% from "govuk/components/summary-list/macro.njk" import govukSummaryList %}

{% block pageTitle %}
  Check your details - {{siteTitle}}
{% endblock %}

{% block beforeContent %}
  {{ govukBackLink({
    text: "Back",
    href: backUrl,
	  attributes: {id: 'linkBack'}
  }) }}
{% endblock %}

{% block content %}
  <div class="govuk-body">
    <div class="govuk-grid-row">
      <div class="govuk-grid-column-two-thirds">
        <h1 class="govuk-heading-l">Check application details and submit</h1>
        
        {% for summary in summarySections %}
          <div>
            <h2 class="govuk-heading-m check-detail-heading">{{summary.title}}</h2>
            <hr/>
          </div>

          {{ govukSummaryList({
            rows: summary.rows
            })
          }}
        {% endfor %}
      </div>

      <div class="govuk-grid-column-one-third govuk-body">
        <hr class="sideBarColor"/>
        {% for sidebarText in sidebar %}
          <p>{{sidebarText}}</p>
        {% endfor %}
      </div>
    </div>

    <div class="govuk-grid-row">
      <div class="govuk-grid-column-two-thirds">
        <form method="POST" action="{{ url }}" autocomplete="off" novalidate>
          {{ crumbToken(crumb)}}
          {{ govukButton({
            text: "Submit Application",
            attributes: {id: "btnContinue"}
          }) }}
        </form>
      </div>
    </div>
  </div>
{% endblock %}